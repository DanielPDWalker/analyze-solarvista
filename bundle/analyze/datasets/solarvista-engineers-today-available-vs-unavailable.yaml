version: datasets/v0.2
source: Solarvista
title: Engineers Available vs Unavailable Today
questions: ‘How many engineers are available vs unavailable today?’
description: |-
   Engineers available vs unavailable today.

   #Solarvista
metadata: |-
   {
      "name": "vw_reactive_user_availability_today", 
      "label": "Available Engineers vs. Unavailable", 
      "related_table": {
         "columns": [
         ], 
         "aggregates": [
            {"name": "total_available", "label": "Available Today", "description": "Total Available Today"},
            {"name": "total_unavailable", "label": "Unavailable Today", "description": "Total Unavailable Today"}
         ], 
         "version": 1
      }
   }
visualisation: |-
   {
      "chartjs-chart": {
         "chartType": "doughnut",
         "options": {
            "plugins": { "datalabels": { "display": true } }
         }
      }
   }
query: |-
   select
      sum(case when current_availability = 'Available' then 1 else 0 end) "vw_reactive_user_availability_today.total_available"
      , sum(case when current_availability = 'Unavailable' then 1 else 0 end) "vw_reactive_user_availability_today.total_unavailable"
   from
   vw_reactive_user_availability_today
